<div>
  <label for="pageSize">Page Size:  </label>
  <select id="pageSize" class="dropdown custom-select custom-select-sm col-1 col-sm-1 m-1" (change)="changePageSize()" [(ngModel)]="pageSize">
    <option class="dropdown-item" [ngValue]="5">5</option>
    <option class="dropdown-item" [ngValue]="10">10</option>
    <option class="dropdown-item" [ngValue]="50">50</option>
    <option class="dropdown-item" [ngValue]="100">100</option>
  </select>
  <wj-flex-grid-search placeholder="search" class="pull-right"
                       [grid]="flex">
  </wj-flex-grid-search>
  <wj-flex-grid #flex
                class="grid"
                [allowResizing]="'Both'"
                [itemsSource]="collectionView"
                [allowMerging]="'All'"
                [stickyHeaders]="true"
                [isReadOnly]="true"
                [selectionMode]="0">
    <ng-template wjFlexGridCellTemplate [cellType]="'RowHeader'" let-cell="cell">
      {{cell.row.index + 1}}
    </ng-template>
    <wj-flex-grid-column [header]="'ID'" [binding]="'id'" [width]="50"></wj-flex-grid-column>
    <wj-flex-grid-column [header]="'Make'" [binding]="'make.name'"></wj-flex-grid-column>
    <wj-flex-grid-column [header]="'Model'" [binding]="'model.name'"></wj-flex-grid-column>
    <wj-flex-grid-column [header]="'Is Registered'" [allowSorting]="false">
      <ng-template wjFlexGridCellTemplate [cellType]="'Cell'" let-cell="cell">
        <span *ngIf="cell.item.isRegistered" style="color: green;">Registered</span>
        <span *ngIf="!cell.item.isRegistered" style="color: red;">Not Registered</span>
      </ng-template>
    </wj-flex-grid-column>
    <wj-flex-grid-column [header]="'Last Updated'" [binding]="'lastUpdated'" format="d">
    </wj-flex-grid-column>
    <wj-flex-grid-column [header]="'Contact Name'" [binding]="'contactInfo.name'"></wj-flex-grid-column>
    <wj-flex-grid-column width="*" [allowSorting]="false">
      <ng-template wjFlexGridCellTemplate [cellType]="'Cell'" let-cell="cell">
        <a class="btn btn-outline-success btn-sm text-white m-1" style="width: 60px;" [routerLink]="['view', cell.item.id]">
          <svg class="bi bi-eye-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="black" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.5 8a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"/>
            <path fill-rule="evenodd" d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7z" clip-rule="evenodd"/>
          </svg>
        </a>
        <a class="btn btn-outline-warning btn-sm text-white m-1" style="width: 60px;" [routerLink]="['edit', cell.item.id]">
          <svg class="bi bi-pencil-square" width="1em" height="1em" viewBox="0 0 16 16" fill="black" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"/>
            <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z" clip-rule="evenodd"/>
          </svg>
        </a>
        <button type="button" class="btn btn-outline-danger btn-sm m-1" style="width: 60px;" (click)="opensweetalert(cell.item.id)">
          <svg class="bi bi-trash-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="black" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M2.5 1a1 1 0 00-1 1v1a1 1 0 001 1H3v9a2 2 0 002 2h6a2 2 0 002-2V4h.5a1 1 0 001-1V2a1 1 0 00-1-1H10a1 1 0 00-1-1H7a1 1 0 00-1 1H2.5zm3 4a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7a.5.5 0 01.5-.5zM8 5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 018 5zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z" clip-rule="evenodd"/>
          </svg>
        </button>
      </ng-template>
    </wj-flex-grid-column>
  </wj-flex-grid>
  <wj-collection-view-navigator headerFormat="Page {currentPage:n0} of {pageCount:n0}"
                                [byPage]="true"
                                [cv]="collectionView"
                                class="pull-right" #pages>
  </wj-collection-view-navigator>
</div>
<label>Total Vehicles: {{collectionView.totalItemCount}}</label>
